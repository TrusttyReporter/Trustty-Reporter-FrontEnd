<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Generate comprehensive AI-powered reports effortlessly. Simply upload resources and provide a description, and our advanced AI technology will create insightful, tailored reports to meet your specific needs. Save time and gain valuable insights with our user-friendly report generation tool.">
    <title>Generate AI-Powered Reports | trusttyreporter.com</title>
    <link rel="icon" type="image/png" href="{{url_for('static',filename='images/favicon-32x32.png')}}" sizes="32x32" />
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
    <!-- Custom CSS -->
    <link href="{{ url_for('dashboard.static', filename='css/report-inputs.css') }}" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header>
        <nav class="navbar sticky-top navbar-expand-sm bg-body-tertiary bsb-navbar-1 shadow-sm" >
            <div class="container-fluid">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="navbar-brand" href="{{url_for('home')}}">
                            <img src="{{ url_for('dashboard.static', filename='images/logo.png')}}" class="img-fluid" alt="TrustyReporter Logo" width="135" height="44">
                        </a>
                    </li>
                </ul>             
                <div class="collapse navbar-collapse" id="bsbNavbar">
                    <ul class="navbar-nav bsb-dropdown-menu-responsive ms-auto align-items-center">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle bsb-dropdown-toggle-caret-disable" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                <span class="position-relative pt-1">
                                    <i class="bi bi-person-fill fs-4"></i>
                                        <span class="visually-hidden">User</span>
                                    </span>
                                </span>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-md-end bsb-dropdown-animation bsb-fadeIn">
                                <li>
                                    <h6 class="dropdown-header fs-7 text-center">Welcome, {{username}}</h6>
                                </li>
                                <li>
                                    <hr class="dropdown-divider">
                                </li>
                                <li>
                                    <a class="dropdown-item text-center" href="{{url_for('auth.signout')}}">
                                        <span>
                                            <span class="fs-7">Log Out</span>
                                        </span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <main>
        <div class="row" >
            <!-- Sidebar -->
            <div class="d-flex flex-column flex-shrink-0 px-3 bg-light" style="width: 20vw;">
                
                <hr class="sidebar-divider mb-3">
                <ul class="nav nav-pills flex-column mb-auto ps-3">
                    <a class= "nav-link p-1 link-dark" role="button" href="{{url_for('dashboard.index')}}">
                        <li class="nav-item">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-magic" viewBox="0 0 20 20">
                                <path d="M9.5 2.672a.5.5 0 1 0 1 0V.843a.5.5 0 0 0-1 0zm4.5.035A.5.5 0 0 0 13.293 2L12 3.293a.5.5 0 1 0 .707.707zM7.293 4A.5.5 0 1 0 8 3.293L6.707 2A.5.5 0 0 0 6 2.707zm-.621 2.5a.5.5 0 1 0 0-1H4.843a.5.5 0 1 0 0 1zm8.485 0a.5.5 0 1 0 0-1h-1.829a.5.5 0 0 0 0 1zM13.293 10A.5.5 0 1 0 14 9.293L12.707 8a.5.5 0 1 0-.707.707zM9.5 11.157a.5.5 0 0 0 1 0V9.328a.5.5 0 0 0-1 0zm1.854-5.097a.5.5 0 0 0 0-.706l-.708-.708a.5.5 0 0 0-.707 0L8.646 5.94a.5.5 0 0 0 0 .707l.708.708a.5.5 0 0 0 .707 0l1.293-1.293Zm-3 3a.5.5 0 0 0 0-.706l-.708-.708a.5.5 0 0 0-.707 0L.646 13.94a.5.5 0 0 0 0 .707l.708.708a.5.5 0 0 0 .707 0z"/>
                            </svg>
                            <span class="text-tertiary ms-1">AI Generated Report</span>
                        </li>
                    </a>
                    <hr class="sidebar-divider mt-3 mb-3">
                    <a class= "nav-link p-1 link-dark" role="button" href="{{url_for('reportChat.index')}}">
                        <li class="nav-item">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-chat-right-dots-fill" viewBox="0 0 20 20">
                                <path d="M16 2a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h9.586a1 1 0 0 1 .707.293l2.853 2.853a.5.5 0 0 0 .854-.353zM5 6a1 1 0 1 1-2 0 1 1 0 0 1 2 0m4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 1a1 1 0 1 1 0-2 1 1 0 0 1 0 2"/>
                            </svg>
                            <span class="text-tertiary ms-1">Chat Report</span>
                        </li>
                    </a>
                </ul>
            </div>
            <div class="main-section" style="width: 80vw;">
                <div class="container col-md-10">
                    <form action="{{url_for('dashboard.index')}}" method="POST" enctype="multipart/form-data">
                      <section class="my-2 my-md-4 px-1">
                        <!-- Task description textarea -->
                        <div class="mb-3">
                          <h1 class="mb-3">Enter the report description and resources below:</h1>
                          <div class="alert alert-info" role="alert">
                            <h4 style="font-size: 14px; color: #555;">Instructions:</h4>
                            <ol style="font-size: 12px; color: #555;">
                                <li>Always begin your 'Report Description' with <b>"Generate/Write a report on &lt;topic&gt;. (Optional)Answer the following questions... (Optional)Include the following in the report..."</b> followed by a list of specific analysis.</li>
                                <li>The tool will automatically generate suitable graphs for each data piece. <b>If you need specific graphs, you can request them later by clicking 'Edit Report'</b>.</li>
                                <li>You can upload <b>multiple PDFs but only one CSV</b> file. If you upload multiple CSVs, only the last one will be used. For optimal performance, upload 5 or fewer PDFs. Uploading multiple CSVs will be supported soon.</li>
                                <li>The tool can automatically understand and utilize each resource(PDFs or CSV) to generate the report. But if you want to use a specific resource for specific data or analysis, specify it under the 'Include' section of the description.</li>
                                <li><b>Generating the report may take 5-10 minutes, depending on its complexity and the size of the provided resources.</b></li>
                            </ol>
                          </div>
                        </div>
                        <div class="mb-3">
                          <h3 class="mb-2">Enter Report Description:</h3>
                          <textarea rows="5" class="form-control mb-3 description-area width-90 border-2" id="taskDescription" name="description" placeholder="Generate/Write a report on &lt;topic&gt;. (Optional)Answer the following questions... (Optional)Include the following in the report..." required></textarea>
                        </div>
                        <br>
                        <div class="mb-3">
                            <h3 class="mb-2">Upload Resources:</h3>
                            <input type="file" class="form-control width-90" id="pdfFile" name="resources" multiple accept=".pdf, .csv, .xls, .xlsx, .doc, .docx, .ppt, .pptx" required>
                        </div>
                        <div id="uploadedFiles" class="mt-3"></div>
                        <br>
                        <!-- ............................. -->
                        <!-- Submit button -->
                        <div class="text-end width-90">
                          <button type="submit" class="btn btn-primary submit-btn button" id="submitButton">
                            Submit
                            <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                          </button>
                        </div>
                        <!--Error message-->
                        {% if error_message %}
                            <br>
                            <div class="alert alert-danger" role="alert">
                                {{ error_message }}
                            </div>
                            <script>
                                // Call the function to reset the submit button
                                resetSubmitButton();
                            </script>
                        {% endif %}
                      </section>
                    </form>
                  </div>
            </div>
        </div>
    </main>
    <script src="https://unpkg.com/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JavaScript -->
    <script src="{{ url_for('dashboard.static', filename='js/report-inputs.js') }}"></script>
    
    
</body>
</html>